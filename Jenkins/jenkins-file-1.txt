Giriş örneği
pipeline {
    agent any

    stages {
        stage('Hello') {
            steps {
                echo 'Hello World'
            }
        }
    }
}


İkinci örnek
pipeline {
    agent any

    tools {
        // Install the Maven version configured as "M3" and add it to the path.
        maven "M3"
    }

    stages {
        stage('Build') {
            steps {
                // Get some code from a GitHub repository
                git 'https://github.com/jglick/simple-maven-project-with-tests.git'

                // Run Maven on a Unix agent.
                sh "mvn -Dmaven.test.failure.ignore=true clean package"

                // To run Maven on a Windows agent, use
                // bat "mvn -Dmaven.test.failure.ignore=true clean package"
            }

            post {
                // If Maven was able to run the tests, even if some of the test
                // failed, record the test results and archive the jar file.
                success {
                    junit '**/target/surefire-reports/TEST-*.xml'
                    archiveArtifacts 'target/*.jar'
                }
            }
        }
    }
}


Gelişmiş örnek

node {
    def mvnHome
    stage('Preparation') { // for display purposes
        // Get some code from a GitHub repository
        git 'https://github.com/jglick/simple-maven-project-with-tests.git'
        // Get the Maven tool.
        // ** NOTE: This 'M3' Maven tool must be configured
        // **       in the global configuration.
        mvnHome = tool 'M3'
    }
    stage('Build') {
        // Run the maven build
        withEnv(["MVN_HOME=$mvnHome"]) {
            if (isUnix()) {
                sh '"$MVN_HOME/bin/mvn" -Dmaven.test.failure.ignore clean package'
            } else {
                bat(/"%MVN_HOME%\bin\mvn" -Dmaven.test.failure.ignore clean package/)
            }
        }
    }
    stage('Results') {
        junit '**/target/surefire-reports/TEST-*.xml'
        archiveArtifacts 'target/*.jar'
    }
}



Uygulamalar başlıyor



node{
    cleanWs cleanWhenFailure: false
}

node {
    stage("Preparation"){
        echo 'hello'
    }
}
stage('Clone Approve'){
    script {
        input(message: 'Clone yapılsın mı?')
    }
}
node {
    stage('Git clone') { // for display purposes
        git branch: 'main', credentialsId: '6544f0f8-a427-4d3a-b61b-04fdc1edbfe0', url: 'https://github.com/khergner/DevOps-Training.git'
    }
    stage("Proje List") {
        sh 'ls -la'
    }
    stage('Build') {
        // Run the maven build
        dir('kubernetes-java-hellokubernetes') {
            sh "ls"
            def mavenHome= "/var/lib/jenkins/tools/hudson.tasks.Maven_MavenInstallation/Maven/bin"
            sh "export PATH=$mavenHome:$PATH && mvn clean package"
        }
    }
    stage('Results') {
        dir('kubernetes-java-hellokubernetes/target') {
            archiveArtifacts 'hello-kubernetes-1.0.0.jar'
        }
    }
}
